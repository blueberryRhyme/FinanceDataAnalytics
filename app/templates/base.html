<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script id="app-config" type="application/json">
    {{
      {
        "csrf": csrf_token(),
        "viewUserId": view_user_id if view_user_id is defined else None
      } | tojson
    }}
  </script>




  <title>{% block title %}$$$${% endblock %}</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <style>
    /* Base-specific styles that aren't in main.css */
    .site-footer{
      position: fixed;
      left: 0px;
      bottom: 0px;
      width: 100%;
    }
    
    .site-content {
      padding: 2em;
      flex: 1;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* Dropdown menu styles */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    
    .dropdown-toggle {
      cursor: pointer;
      position: relative;
      padding-right: 24px;
    }
    
    .dropdown-toggle::after {
      content: '▼';
      font-size: 8px;
      position: absolute;
      right: 8px;
      top: 60%;
      transform: translateY(-50%);
      opacity: 0.7;
    }
    
    /* Prevent the green animation on the Community tab */
    .dropdown .nav-link::before,
    .dropdown .nav-link::after,
    .dropdown .nav-link:hover::before,
    .dropdown .nav-link:hover::after {
      display: none !important;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f8fafc;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 8px;
      overflow: hidden;
    }
    
    .dropdown-content a {
      color: #1e293b;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      transition: background-color 0.2s;
    }
    
    .dropdown-content a:hover {
      background-color: #e2e8f0;
    }
    
    .dropdown:hover .dropdown-content {
      display: block;
    }
    
    .dropdown:hover .dropdown-toggle {
      color: #2563eb;
    }
  </style>
    {% block head %}{% endblock %}

</head>
<body>
  <header class="site-header">

    <div class="navigation-container">
      <nav class="main-nav">
        <a href="{{ url_for('main.dashboard') }}" class="nav-link">Dashboard</a>
        <a href="{{ url_for('main.transactionForm') }}" class="nav-link">Log Transaction</a>
        <div class="dropdown">
          <a href="javascript:void(0)" class="nav-link dropdown-toggle">Community</a>
          <div class="dropdown-content">
            <a href="{{ url_for('main.profile') }}" class="dropdown-item">Profile</a>
            <a href="{{ url_for('main.friends') }}" class="dropdown-item">Friends</a>
            <a href="{{ url_for('main.achievements') }}" class="dropdown-item">Achievements</a>
          </div>
        </div>
        <a href="{{ url_for('main.forecast') }}" class="nav-link">Forecast</a>
        <a href="{{ url_for('main.bills_overview') }}" class="nav-link">Bills</a>
      </nav>
    </div>

  </header>

  <main class="site-content">
    {% block content %}{% endblock %}
  </main>

  <footer class="site-footer">
    <p>© 2025 Agile-Web-Dev Group 9 </p>
  </footer>

  {% block scripts %}{% endblock %}
  
  <!-- Achievement notification system -->
  <div id="toast-container"></div>
  <div id="achievement-modal-container"></div>
  <script src="{{ url_for('static', filename='js/achievements.js') }}"></script>

</body>
</html>